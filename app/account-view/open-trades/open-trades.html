<div class = "w3-section w3-card main-render-wrap">
    <div class = "main-render-wrap-design"></div>
    <div class = "w3-section activity-news-wrap">
        <div class = "activity">
            <div class = "activity-div"> <span>Open Trades</span></div>
        </div>
        <div class = "news">
            <div class = "news-div"> <span>Celebrity News</span></div>
        </div>
    </div>
        <div class = "w3-section activity-news-wrap">
            <div class = "activity-container scrollable" style = "height: 500px">
            <table class = "w3-table w3-striped w3-bordered w3-centered w3-border w3-small">
                <tr>
                    <th>Date</th>
                    <th>Action</th>
                    <th>Celebrity</th>
                    <th>Quantity</th>
                    <th>Price</th>
                    <th>Profit/loss</th>
                    <th>Close</th>
                    <th>Set Stops</th>
                    <th>Set Take Profit</th>
                </tr>
                <tr ng-repeat = "openTrade in openTrades">
                    <td>{{openTrade.time.UTCString()}}</td>
                    <td>{{openTrade.typeofTrade}}</td>
                    <td>{{openTrade.celebrity}}</td>
                    <td>{{openTrade.volume}}</td>
                    <td>N{{openTrade.price.toFixed(2)}}</td>
                    <td>N{{openTrade.profit.toFixed(2)}}</td>
                    <td ng-click = "close(openTrade.typeofTrade, openTrade.celebrity, openTrade.volume, openTrade.tradeId, openTrade.price)"><button class = "w3-btn w3-round-large w3-blue"> Close</button> </td>
                    <td ng-hide= "openTrade.stopLoss" ><button class = "w3-btn w3-round-large w3-blue" ng-click = " hideMe = false; storeValues(openTrade, 'stopLoss')" onclick =" document.getElementById('id01').style.display='block'">Set SL</button> </td>
                    <td ng-show= "openTrade.stopLoss">{{openTrade.stopLoss}} </td>
                    <td ng-hide = "openTrade.takeProfit" ><button class = "w3-btn w3-round-large w3-blue" ng-click = "hideMe = false; storeValues(openTrade, 'takeProfit');" onclick =" document.getElementById('id01').style.display='block'">Set TP</button> </td>
                    <td ng-show = "openTrade.takeProfit">{{openTrade.takeProfit}}</td>
                </tr>

            </table>
        </div>
        <div class = "w3-border news-container"></div>
    </div>
    </div>
    
    <div id="id01" class="w3-modal" ng-hide = "hideMe">
        <div class="w3-modal-content w3-center" style= "width: 400px">
          <header class="w3-container w3-teal"> 
            <span onclick="document.getElementById('id01').style.display='none'" 
            class="w3-closebtn">&times;</span>
            <h2>you are about to{{" " + parameters.type}} and the price is {{parameters.price}}</h2>
          </header>
            <body>
          <div class="w3-container w3-blue">
              <input ng-model = "getPrice" type = "text" class = "w3-input" placeholder = "type in the quantity desired" required>
              <button ng-click ="checkError(openTrade.celebrity, openTrade.volume, openTrade.typeofTrade)" onclick="document.getElementById('id01').style.display='none'">Submit</button>
          </div>
            </body>
        </div>
    </div>
    <div id = "error" >
        <div  class="w3-modal-content w3-yellow w3-center" style = "margin: 0 auto; width: 200px; top: -370px">
            <span ng-click = "hideMe = false; displayHandler()" class="w3-closebtn w3-hover-text-red">&times;</span>
            <h3>Warning!</h3>
            <p>{{errorMessage}}</p>
        </div>
    </div>

</div>
